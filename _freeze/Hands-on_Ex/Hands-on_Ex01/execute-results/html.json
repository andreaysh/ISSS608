{
  "hash": "ce3abf72b7ad577aa07eaf62c0bc320a",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Hands-on Exercise 01\"\nauthor: \"Andrea Yeo\"\ndate-modified: \"last-modified\"\nexecute:\n  echo: true\n  eval: true\n  warning: false\n  freeze: true\n---\n\n\n\n## 1. A Layered Grammar of Graphics: ggplot2 methods\n\n### 1.1 Learning Outcome\n\nIn this chapter, we will learn the basic principles and key components of ggplot2. we will get hands-on experience using these components to create statistical graphics based on the principles of the Layered Grammar of Graphics. By the end, we will be able to apply ggplot2's essential graphical elements to create elegant and functional statistical visualizations.\n\n### 1.2 Getting started\n\n#### 1.2.1 Installing and loading the required libraries\n\nThe code chunk below uses p_load() from the pacman package to check if the tidyverse packages are installed on my computer. If they are, they will be loaded into the R environment.If not, we will proceed to install pacman first.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(tidyverse)\n```\n:::\n\n\n\n#### 1.2.2 Importing data\n\nWe will import *exam_data.csv* into R environment by using the `read.csv()`function and assign it to exam_data\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nexam_data <- read_csv(\"data/Exam_data.csv\", show_col_types = FALSE)\n```\n:::\n\n\n\nWe will check the dataset using below\n\n-   glimpse(): provides a transposed overview of a dataset, showing variables and their types in a concise format.\n-   head(): displays the first few rows of a dataset (default is 6 rows) to give a quick preview of the data.\n-   summary(): generates a statistical summary of each variable, including measures like mean, median, and range for numeric data.\n\n::: panel-tabset\n## glimpse()\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(exam_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 322\nColumns: 7\n$ ID      <chr> \"Student321\", \"Student305\", \"Student289\", \"Student227\", \"Stude…\n$ CLASS   <chr> \"3I\", \"3I\", \"3H\", \"3F\", \"3I\", \"3I\", \"3I\", \"3I\", \"3I\", \"3H\", \"3…\n$ GENDER  <chr> \"Male\", \"Female\", \"Male\", \"Male\", \"Male\", \"Female\", \"Male\", \"M…\n$ RACE    <chr> \"Malay\", \"Malay\", \"Chinese\", \"Chinese\", \"Malay\", \"Malay\", \"Chi…\n$ ENGLISH <dbl> 21, 24, 26, 27, 27, 31, 31, 31, 33, 34, 34, 36, 36, 36, 37, 38…\n$ MATHS   <dbl> 9, 22, 16, 77, 11, 16, 21, 18, 19, 49, 39, 35, 23, 36, 49, 30,…\n$ SCIENCE <dbl> 15, 16, 16, 31, 25, 16, 25, 27, 15, 37, 42, 22, 32, 36, 35, 45…\n```\n\n\n:::\n:::\n\n\n\n## head()\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(exam_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 7\n  ID         CLASS GENDER RACE    ENGLISH MATHS SCIENCE\n  <chr>      <chr> <chr>  <chr>     <dbl> <dbl>   <dbl>\n1 Student321 3I    Male   Malay        21     9      15\n2 Student305 3I    Female Malay        24    22      16\n3 Student289 3H    Male   Chinese      26    16      16\n4 Student227 3F    Male   Chinese      27    77      31\n5 Student318 3I    Male   Malay        27    11      25\n6 Student306 3I    Female Malay        31    16      16\n```\n\n\n:::\n:::\n\n\n\n## summary()\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(exam_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n      ID               CLASS              GENDER              RACE          \n Length:322         Length:322         Length:322         Length:322        \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n    ENGLISH          MATHS          SCIENCE     \n Min.   :21.00   Min.   : 9.00   Min.   :15.00  \n 1st Qu.:59.00   1st Qu.:58.00   1st Qu.:49.25  \n Median :70.00   Median :74.00   Median :65.00  \n Mean   :67.18   Mean   :69.33   Mean   :61.16  \n 3rd Qu.:78.00   3rd Qu.:85.00   3rd Qu.:74.75  \n Max.   :96.00   Max.   :99.00   Max.   :96.00  \n```\n\n\n:::\n:::\n\n\n:::\n\n::: callout-tip\n## Reflection\n\n-   Learnt how to load libraries, import/ read excel files\n:::\n\n### 1.3 Introducing ggplot\n\nggplot2 is an R package for creating data-driven graphics based on The Grammar of Graphics. It is also part of the tidyverse family specially designed for visual exploration and communication.\n\nFor more information, visit [ggplot2](https://ggplot2.tidyverse.org/)\n\n#### 1.3.1 R Graphics VS ggplot\n\nLets compare how R Graphics, the core graphical functions of Base R and ggplot plot a simple histogram.\n\n::: panel-tabset\n## R Graphics\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhist(exam_data$MATHS,col = \"#4169e1\")\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex01_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n\n## ggplot2\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=exam_data, aes(x = MATHS)) +\n  geom_histogram(bins=10, \n                 boundary = 100,\n                 color=\"black\", \n                 fill=\"#4169e1\") +\n  ggtitle(\"Distribution of Maths scores\")\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex01_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n:::\n\n::: callout-tip\n## Reflection\n\n-   While R Graphics offers simpler syntax, [Hadley Wickham](http://varianceexplained.org/r/teach_ggplot2_to_beginners/#comment-1745406157) emphasizes that the true value of ggplot2 lies not in its specific plotting syntax, but in the transformative way it approaches visualization. It enables users to think of visualizations as a method of mapping variables to the visual attributes of geometric objects, creating a powerful framework for understanding and perceiving data.\n:::\n\n### 1.4 Grammar of Graphics\n\nThe Grammar of Graphics, introduced by Leland Wilkinson in 1999, provides a structured approach to creating meaningful data visualizations. It breaks graphs into semantic components like scales and layers, offering a framework to answer the question: What is a statistical graphic?\n\nThe key principles I’ve learned are:\n\n-   Graphics are built from distinct layers of grammatical elements.\n\n-   Meaningful plots are achieved through aesthetic mapping.\n\nThis grammar helps me see how complex graphics are composed, uncover connections between seemingly different visuals, and understand the foundation of diverse visualizations. It also guides me toward recognizing well-formed, meaningful graphics while acknowledging that not all grammatically correct visuals will make sense.\n\n#### 1.4.1 A layered grammar of graphics\n\nFigure shows the seven grammars of ggplot2: [A layered grammar of graphics](https://vita.had.co.nz/papers/layered-grammar.html)\n\n![A layered grammar of graphics](/images/Pic06.jpg){width=\"501\"}\n\nThe building blocks of the Grammar of Graphics are:\n\n-   **Data:** The dataset being visualized.\n-   **Aesthetics:** Attributes like position, color, size, shape, or transparency that map data to visual elements.\n-   **Geometries:** Visual elements representing data, such as points, bars, or lines.\n-   **Facets:** Subsets of data used to create multiple variations of a graph (e.g., panels).\n-   **Statistics:** Transformations summarizing data, such as means or confidence intervals.\n-   **Coordinate Systems:** The plane where data is plotted (e.g., Cartesian or polar).\n-   **Themes:** Non-data components like titles, axis labels, or legend formatting.\n\n### 1.5 Essential Grammatical Elements in ggplot2: data\n\nLet us call the `ggplot( )` function using the code chunk below.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=exam_data)\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex01_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n\n::: callout-note\n-   A blank canvas is created with `ggplot()`.\n-   `ggplot()` initializes a ggplot object.\n-   The data argument specifies the dataset for plotting.\n-   If the dataset is not already a data.frame, it will be converted to one by fortify().\n:::\n\n### 1.6 Essential Grammatical Elements in ggplot2: aesthetic mappings\n\nAesthetic mappings link data attributes to visual characteristics like position, color, size, shape, or transparency, allowing each characteristic to represent information. These mappings are defined using the `aes()` function, and each geom layer can have its own `aes()` specification.\n\nThe code below adds the aesthetic element into the plot.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=exam_data,\n       aes(x=MATHS,\n           y=ENGLISH))\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex01_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\n\n::: callout-note\n-   ggplot includes the x/y axis and the axis's label\n:::\n\n### 1.7 Essential Grammatical Elements in ggplot2: geom\n\nGeometric objects are the visual marks on a plot. A layer combines data, aesthetic mappings, a geometric object (geom), statistical transformations (stat), and position adjustments. Layers are typically created using geom\\_ functions, with options to override default stat or position settings. **Every plot requires at least one geom**, and additional geoms can be added using the + operator.\n\nRefer [here](https://ggplot2.tidyverse.org/reference/#section-layer-geoms) for a more comprehensive list.\n\nBelow are some examples of `geom_`:\n\n-   **geom_point:** for drawing individual points (e.g., a scatter plot)\n-   **geom_line:** for drawing lines (e.g., for a line charts)\n-   **geom_col:** for drawing bars with heights mapped to values in the data (e.g., bar charts).\n-   **geom_boxplot:** for drawing box-and-whisker plots to visualize data distribution and outliers.\n-   **geom_histogram:** for drawing binned values to represent the distribution of a numeric variable (e.g., histograms).\n-   **geom_density:** for drawing smoothed density estimates to visualize the distribution of a numeric variable.\n\n![](/images/Pic07.jpg){width=\"488\"}\n\n#### 1.7.1 Geometric objects: geom_bar\n\nThe code below plots a bar chart by using `geom_bar()`.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=exam_data, \n       aes(x=RACE)) +\n  geom_bar()\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex01_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\n\n#### 1.7.2 Geometric objects: geom_dotplot\nIn a dot plot, the dot width represents the bin width (or maximum width, depending on the binning method), and dots are stacked, with each dot signifying one observation.\n\nThe code below plots a dot plot chart by using `geom_dotplot()`.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot(dotsize = 0.5)\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex01_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n\n\n\n::: callout-tip\n## Reflection\n\n-   Learnt how to load ggplot package and to create a bar chart using `geom_bar()`\n:::\n\n\n\n\n\n\n\nlibrary(ggplot2)\n<!-- ::: {.callout-tip title=\"Reflection\"} -->\n\n<!-- Some of the useful links from quarto, -->\n<!-- install.packages(\"ggplot2\") -->\n<!-- library(ggplot2) -->\n<!-- ::: -->\n",
    "supporting": [
      "Hands-on_Ex01_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}